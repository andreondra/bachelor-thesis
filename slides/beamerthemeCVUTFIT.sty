% LaTeX Beamer theme based on Czech Technical University visual identity
% and its Faculty of Information Technology common colour scheme
% based on Beamer theme infolines and color theme whale
% 
% Copyright 2007 by Till Tantau
% Modified 2019 by Ondrej Guth (ondrej.guth@fit.cvut.cz)
% Modified 2023 by Ondrej Golasowski (golasond@fit.cvut.cz)
%
% This file may be distributed and/or modified
%
% 1. under the LaTeX Project Public License and/or
% 2. under the GNU Public License.
%
% See the file doc/licenses/LICENSE of LaTeX Beamer for more details.
% 
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 
% IMPORTANT
% This color theme is not part of LaTeX Beamer.
% This color theme is not an official scheme of neither CTU nor FIT.
% % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % % 

% % % % % % % % % % % % 
% Requirements: CTU logos: files logo_FIT.pdf, logo_FIT_negativ.pdf, and symbol_cvut_konturova_verze_cb.pdf,
% available from https://cvut.cz.
% May be inserted using the following code:
% 
% \pgfdeclareimage[height=0.8cm]{logocvut}{logo_FIT}
% \pgfdeclareimage[height=0.8cm]{logocvutneg}{logo_FIT_negativ}
% \pgfdeclareimage[width=.7\textwidth]{symbolcvut}{symbol_cvut_konturova_verze_cb}
% 
% % % % % % % % % % % % 

\mode<presentation>

\usepackage{appendixnumberbeamer} % Nastaveni cislovani priloh.
\usepackage{fontspec} % Nastaveni fontu.
\usepackage[czech]{babel} % Pridani cestiny (data atd.).

\pgfdeclareimage[height=0.8cm]{logocvut}{logo_FIT}
\pgfdeclareimage[height=0.8cm]{logocvutneg}{logo_FIT_negativ}
\pgfdeclareimage[width=.7\textwidth]{symbolcvut}{symbol_cvut_konturova_verze_cb}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Ruzna nastaveni sablony.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usefonttheme{structurebold}
\useinnertheme{rectangles}
\useoutertheme{infolines}
\usecolortheme{CVUTFIT}
\setbeamertemplate{navigation symbols}{} % Odstraneni navigacnich tlacitek.
\setbeamertemplate{caption}{\raggedright\tiny\insertcaption\par} % Ostraneni prefixu "Obrazek:".

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Nastaveni titulni strany.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\titlegraphic{\pgfuseimage{logocvut}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Nastaveni fontu a jeho velikosti.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamersize{text margin left=4.2em,text margin right=2em}
\usefonttheme[onlymath]{serif}

\setsansfont[Path=fonts/]{Technika-Regular.ttf}%
[Ligatures=TeX,
BoldFont=Technika-Bold.ttf,
ItalicFont=Technika-Italic.ttf,
BoldItalicFont=Technika-BoldItalic.ttf]  

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Styl titulku snimku.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamertemplate{frametitle}
{
    \nointerlineskip
    \begin{beamercolorbox}[sep=0.1cm,ht=2em,wd=\paperwidth]{frametitle}
        \strut\insertframetitle\strut\hfill\raisebox{-6pt}{\pgfuseimage{logocvutneg}}
    \end{beamercolorbox}%
    
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Styl zahlavi snimku.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamertemplate{headline}
{
  \leavevmode%
%  \hbox{%
%  \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.65ex,dp=1.5ex,right]{section in head/foot}%
%    \usebeamerfont{section in head/foot}\insertsectionhead\hspace*{2ex}
%  \end{beamercolorbox}%
%  \begin{beamercolorbox}[wd=.5\paperwidth,ht=2.65ex,dp=1.5ex,left]{subsection in head/foot}%
%    \usebeamerfont{subsection in head/foot}\hspace*{2ex}\insertsubsectionhead
%  \end{beamercolorbox}}%
%  \vskip3pt%
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Styl priloh (po prikazu \appendix).
% Cislovani je dle doporuceni rimskymi cislicemi.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\defbeamertemplate{footline}{page number appendix}
{%
\leavevmode%
\hbox{%
	\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{author in head/foot}%
		\usebeamerfont{title in head/foot}\insertshortauthor\hspace*{.5em}(\insertshortinstitute)
	\end{beamercolorbox}%
	\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,center]{title in head/foot}%
		\usebeamerfont{title in head/foot}\insertshorttitle
	\end{beamercolorbox}%
	\begin{beamercolorbox}[wd=.333333\paperwidth,ht=2.25ex,dp=1ex,right]{date in head/foot}%
		\usebeamerfont{date in head/foot}\insertshortdate{}\hspace*{6em}
		\insertframenumber{}\hspace*{2ex} 
	\end{beamercolorbox}}%
	\vskip0pt%
}
\makeatletter
\g@addto@macro\appendix{%
		\setbeamertemplate{footline}[page number appendix]%
		\renewcommand*{\insertframenumber}{%
				\Roman{framenumber}%
			}%
	}
\makeatother

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Pridani definice.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newtheorem{definice}[theorem]{Definice}

\mode
<all>
